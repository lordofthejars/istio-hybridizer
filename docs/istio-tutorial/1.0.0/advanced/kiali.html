<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Observing microservice meshes with Kiali :: Istio Hybridizer Docs</title>
    <link rel="canonical" href="https://redhat-developer-demos.github.io/openshift-hybridizer/istio-tutorial/1.0.0/advanced/kiali.html">
    <meta name="generator" content="Antora 1.0.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="#">Istio Tutorial</a>
        <span class="separator">//</span>
        <a href="https://redhat-developer-demos.github.io/openshift-hybridizer">Docs</a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Project</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>GitHub</strong></div>
            <a class="navbar-item" href="https://github.com/redhat-developer-demos/istio-tutorial">Istio Tutorial Repository</a>
            <a class="navbar-item" href="https://github.com/redhat-developer-demos/istio-tutorial/issues">Istio Tutorial Issue Tracker</a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/rhdevelopers">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header><div class="main-wrapper">
<div class="navigation-container" data-component="istio-tutorial" data-version="1.0.0">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Istio Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Introduction to Istio Tutorial</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../1setup.html">1. Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../1setup.html#prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../1setup.html#minishift">Setup MiniShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../1setup.html#environment">Setup Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../1setup.html#istioinstallation">Install Istio</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../2deploy-microservices.html">2. Deploy Microservices</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2deploy-microservices.html#deploycustomer">Deploy Customer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2deploy-microservices.html#deploypreference">Deploy Preference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2deploy-microservices.html#deployrecommendation">Deploy Recommendation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2deploy-microservices.html#redeployingcode">Updating Redeploying Code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../3monitoring-tracing.html">3. Monitoring and Tracing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../3monitoring-tracing.html#monitoring">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../3monitoring-tracing.html#custommetrics">Custom Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../3monitoring-tracing.html#tracing">Tracing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../4simple-routerules.html">4. Simple Routing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../4simple-routerules.html#deployrecommendationv2">Create Recommendation V2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../4simple-routerules.html#istiorouting">Changing Istio Routings</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../4simple-routerules.html#alltorecommendationv2">All Users To Recommendation V2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../4simple-routerules.html#alltorecommendationv1">All Users To Recommendation V1</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../4simple-routerules.html#alltorecommendationv1v2">All Users To Recommendation V1 and V2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../4simple-routerules.html#canarydeploymentrecommendation">Canary Deployment Between v1 And v2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../5advanced-routerules.html">5. Advanced Routing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../5advanced-routerules.html#canarydeploymentuseragent">Canary Deployment based on user-agent</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../5advanced-routerules.html#alltorecommendationv1">All Users To Recommendation V1</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../5advanced-routerules.html#safaritov2">All Safari Users To Recommendation V2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../5advanced-routerules.html#mobiletov2">All Mobile Users To Recommendation V2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../5advanced-routerules.html#mirroringtraffic">Mirroring Traffic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../5advanced-routerules.html#accesscontrol">Access Control</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../5advanced-routerules.html#whitelist">White List</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../5advanced-routerules.html#blacklist">Black List</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../5advanced-routerules.html#loadbalancer">Load Balancer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../5advanced-routerules.html#ratelimiting">Rate Limiting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../6fault-injection.html">6. Fault Injection</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../6fault-injection.html#503error">HTTP 503 Error</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../6fault-injection.html#delay">Delay</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../6fault-injection.html#retry">Retry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../6fault-injection.html#timeout">Timeout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../7circuit-breaker.html">7. Circuit Breaker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../7circuit-breaker.html#failfast">Fail Fast</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../7circuit-breaker.html#nocircuitbreaker">No Circuit Breaker</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../7circuit-breaker.html#circuitbreaker">Circuit Breaker</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../7circuit-breaker.html#poolejection">Pool Ejection</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../7circuit-breaker.html#nofailinginstances">No Failing Instance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../7circuit-breaker.html#failinginstancesnopoolejection">Failing Instance No Pool Ejection</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../7circuit-breaker.html#failinginstancespoolejection">Failing Instance Pool Ejection</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../7circuit-breaker.html#circuitbreakerandpoolejection">Circuit Breaker + Pool Ejection</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../8egress.html">8. Egress</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../8egress.html#createrecommendationv3">Create Recommendation V3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../8egress.html#istioegress">Istio-ize Egress</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../9tips.html">9. Tips And Tricks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">Advanced Istio Tutorial</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="kiali.html">Kiali</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#howkiali">How Kiali Work</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#installkiali">Install Kiali</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#generatingdata">Generating Data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#servicegraph">Service Graph</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#servicelistening">Service Listening</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#istioconf">Istio Config</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#distributedtracing">Distributed Tracing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#cleanup">Uninstall Kiali</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="virtualization.html">Service Virtualization and Istio</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="virtualization.html#deploypreferencev2">Deploy Preference V2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="virtualization.html#servicevirtualization">Adding Service Virtualization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="virtualization.html#cleanup">Clean Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mTLS.html">Mutual TLS and Istio</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mTLS.html#preparation">Preparation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mTLS.html#enablingtls">Enabling TLS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mTLS.html#restore">Restore Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="jwt.html">End-user authentication with JWT</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="jwt.html#preparation">Preparation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="jwt.html#enablingauthentication">Enabling end-user authentication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="jwt.html#cleanup">Clean Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="rbac.html">Istio Role Based Access Control (RBAC)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rbac.html#enabling-rbac">Enabling RBAC</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rbac.html#grant-access">Granting Access</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rbac.html#authorization-jwt">Authorization and JWT</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rbac.html#final-notes">Final Notes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rbac.html#cleanup">Clean Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="cube.html">Dark Launch Automatic Test</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cube.html#preparation">Preparation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cube.html#explanation">Explanation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cube.html#code">Source Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cube.html#restore">Restore Environment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Istio Tutorial</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Istio Tutorial</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">OpenShift Hybridizer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../openshift-hybridizer/0.0.1/index.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../../openshift-hybridizer/0.0.1/index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Istio Tutorial</a></li>
    <li class="crumb"><a href="index.html">Advanced Istio Tutorial</a></li>
    <li class="crumb"><a href="kiali.html">Kiali</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-developer-demos/istio-tutorial/edit/master/documentation/modules/advanced/pages/kiali.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Observing microservice meshes with Kiali</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>At some point when you are developing your microservice architecture, you will
need to visualize what is happening in your service mesh. You will have
questions like “Which service is connected to which other service?” and “How
much traffic goes to each microservice?” But because of the loosely tied nature
of microservice architectures , these questions can be difficult to answer.</p>
</div>
<div class="paragraph">
<p>Those are the kinds of question that Kiali has the ability to answer, by giving
you a big picture of the mesh, and showing the whole flow of your requests and
data.</p>
</div>
<div class="paragraph">
<p>Kiali builds upon the same concepts as Istio, and you can check the
<a href="https://www.kiali.io/documentation/glossary/concepts/">glossary</a> for a
refresher.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="howkiali"><a class="anchor" href="#howkiali"></a>How does Kiali work?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kiali taps into the data provided by Istio and OpenShift to generate its
visualizations. It fetches ingress data (such as request tracing with Jaeger),
the listing and data of the services, health indexes, and so on.</p>
</div>
<div class="paragraph">
<p>Kiali runs as a service together with Istio, and does not require any changes
to Istio or Openshift configuration (besides the ones required to install
Istio).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installkiali"><a class="anchor" href="#installkiali"></a>How to install Kiali?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A prerequisite for installing Kiali is that you must have OpenShift and Istio
installed and configured.</p>
</div>
<div class="paragraph">
<p>To install it, you&#8217;re going to need the <code>envsubst</code> command, that is available
on <code>dnf</code> for Fedora, and on <code>homebrew</code> for OS X, like so:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fedora: <code>dnf install gettext</code></p>
</li>
<li>
<p>OS X: <code>brew install gettext</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then, install Kiali with the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># URLS for Jaeger and Grafana
JAEGER_URL="https://tracing-istio-system.$(minishift ip).nip.io"
GRAFANA_URL="https://grafana-istio-system.$(minishift ip).nip.io"
VERSION_LABEL="v0.9.0"

# Installs Kiali's configmap
curl https://raw.githubusercontent.com/kiali/kiali/${VERSION_LABEL}/deploy/openshift/kiali-configmap.yaml | \
  VERSION_LABEL=${VERSION_LABEL} \
  JAEGER_URL=${JAEGER_URL}  \
  GRAFANA_URL=${GRAFANA_URL} envsubst | oc create -n istio-system -f -

# Installs Kiali's secrets
curl https://raw.githubusercontent.com/kiali/kiali/${VERSION_LABEL}/deploy/openshift/kiali-secrets.yaml | \
  VERSION_LABEL=${VERSION_LABEL} envsubst | oc create -n istio-system -f -

# Deploys Kiali to the cluster
curl https://raw.githubusercontent.com/kiali/kiali/${VERSION_LABEL}/deploy/openshift/kiali.yaml | \
  VERSION_LABEL=${VERSION_LABEL}  \
  IMAGE_NAME=kiali/kiali \
  IMAGE_VERSION=${VERSION_LABEL}  \
  NAMESPACE=istio-system  \
  VERBOSE_MODE=4  \
  IMAGE_PULL_POLICY_TOKEN="imagePullPolicy: Always" envsubst | oc create -n istio-system -f -</code></pre>
</div>
</div>
<div class="paragraph">
<p>Installing Kiali may take a minute or two. You can use the following commands
to see if the service is running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc project istio-system
oc get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wait until the status for Kiali is <code>Running</code> and there are <code>1/1</code> pods in the
<code>Ready</code> column. To exit, press <code>Ctrl+C</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc project istio-system
oc get routes</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you&#8217;ll see a result that&#8217;s something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                                          READY     STATUS      RESTARTS   AGE
elasticsearch-0                               1/1       Running     0          2h
grafana-6d5c5477-25qfz                        1/1       Running     0          2h
istio-citadel-b9b8d7589-nttjg                 1/1       Running     0          3h
istio-egressgateway-7f987dc785-sfpxt          1/1       Running     0          3h
istio-galley-745db694bb-f4chz                 1/1       Running     0          3h
istio-ingressgateway-5bd8ffd968-vgvt7         1/1       Running     0          3h
istio-pilot-cf76476d4-hdq55                   2/2       Running     0          3h
istio-policy-7cd858cc78-rs7rm                 2/2       Running     0          3h
istio-sidecar-injector-86c5d87f-9jvgd         1/1       Running     0          3h
istio-statsd-prom-bridge-7f44bb5ddb-7mhvm     1/1       Running     0          3h
istio-telemetry-f757b89c5-sl67n               2/2       Running     0          3h
jaeger-agent-nc68q                            1/1       Running     0          2h
jaeger-collector-d8b97d664-fn8b6              1/1       Running     0          2h
jaeger-query-7745b957bb-9bd8h                 1/1       Running     0          2h
kiali-7b4dbdd448-xshkt                        1/1       Running     0          2h
openshift-ansible-istio-installer-job-mcz42   0/1       Completed   0          3h
prometheus-84bd4b9796-7wkv6                   1/1       Running     0          3h</code></pre>
</div>
</div>
<div class="paragraph">
<p>So now we can access Kiali at <code>kiali-istio-system.$(minishift ip).nip.io</code>, so
let&#8217;s do it:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-login.png" alt="Login Page"></span></p>
</div>
<div class="paragraph">
<p>The default credentials are "admin/admin", but it&#8217;s recommended to change them
before using it in production.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generatingdata"><a class="anchor" href="#generatingdata"></a>Generating Sample Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To show the capabilities of Kiali, you&#8217;ll need an Istio-enabled application to
be running. For this, we can use the <code>customer-tutorial</code> application we created
earlier.</p>
</div>
<div class="paragraph">
<p>To generate data for it, we can <code>curl</code> it with this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl customer-tutorial.$(minishift ip).nip.io</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="servicegraph"><a class="anchor" href="#servicegraph"></a>Service Graph</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you login, you should see the Service Graph page:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-service-graph.png" alt="Service Graph Page"></span></p>
</div>
<div class="paragraph">
<p>It shows a graph with all the microservices, connected by the requests going
through then. On this page, you can see how the services interact with each
other.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="applications"><a class="anchor" href="#applications"></a>Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click the <code>Applications</code> link in the left navigation. On this page you can
view a listing of all the services that are running in the cluster, and
additional information about them, such as health status.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-application-list.png" alt="Application Listing Page"></span></p>
</div>
<div class="paragraph">
<p>Click on the "customer" application to see its details:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-application-details.png" alt="Service Details"></span></p>
</div>
<div class="paragraph">
<p>By hovering the icon on the Health section, you can see the health of a service
(a service is considered healthy) when it&#8217;s online and responding to requests
without errors:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-application-health.png" alt="Health Status"></span></p>
</div>
<div class="paragraph">
<p>By clicking on <code>Outbound Metrics</code> or <code>Inbound Metrics</code>, you can also see the
metrics for an application, like so:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-application-metrics.png" alt="Application Metrics"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="workloads"><a class="anchor" href="#workloads"></a>Workloads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click the <code>Workloads</code> link in the left navigation. On this page you can view
a listing of all the workloads are present on your applications.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-workload-list.png" alt="Workload Listing"></span></p>
</div>
<div class="paragraph">
<p>Click on the <code>customer</code> workload. Here you can see details for the workload,
such as the pods and services that are included in it:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-workload-details.png" alt="Workload Details"></span></p>
</div>
<div class="paragraph">
<p>By clicking <code>Outbound Metrics</code> and <code>Inbound Metrics</code>, you can check the
metrics for the workload. The metrics are the same as the <code>Application</code> ones.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="services"><a class="anchor" href="#services"></a>Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click on the <code>Services</code> link in the left navigation. Here, you can see the
listing of all services.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-service-list.png" alt="Service Listing"></span></p>
</div>
<div class="paragraph">
<p>Click on the <code>customer</code> service. You can, on this page, see the details of
the service, such as metrics, traces, workloads, virtual services,
destination rules and so on:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-service-details.png" alt="Service Details"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="distributedtracing"><a class="anchor" href="#distributedtracing"></a>Distributed Tracing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click on the Distributed Tracing link in the left navigation. The distributed
tracing, provided by Jaeger, will open in a new page.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The tracing page opens in a new browser window/tab, so if it doesn&#8217;t
open, please check if your browser didn&#8217;t block it from opening.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/kiali-distributed-tracing.png" alt="Distributed Tracing Page"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cleanup"><a class="anchor" href="#cleanup"></a>Cleanup (Uninstalling Kiali)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To uninstall Kiali from your cluster, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc delete all,secrets,sa,templates,configmaps,deployments,clusterroles,clusterrolebindings,virtualservices,destinationrules --selector=app=kiali -n istio-system</code></pre>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This content is brought to you by <a href="http://developers.redhat.com">Red Hat Developer</a> - Register today!.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
